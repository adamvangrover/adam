<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADAM v23.5 :: Market Mayhem Newsletter - December 10, 2025</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/market_mayhem_tiers.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/nav.js" defer></script>
    <script src="js/market_mayhem_viewer.js" defer></script>
</head>
<body class="tier-high">

    <!-- System 2 Verification Overlay -->
    <div id="system2-overlay" class="system2-overlay">
        <div class="system2-terminal">
            <div id="sys2-content"></div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="cyber-toast-container"></div>

    <!-- Raw Source Modal -->
    <div id="raw-source-modal" class="raw-source-modal">
        <div class="raw-source-header">
            <span>SOURCE_DATA.JSON</span>
            <span style="cursor:pointer; color:#cc0000;" onclick="toggleSource()">[CLOSE]</span>
        </div>
        <div class="raw-source-content" id="raw-source-content"></div>
    </div>

    <!-- Virtual Toolbar for High Tier -->
    <div class="doc-toolbar" style="display: flex;">
        <div class="toolbar-item" onclick="window.location.href='market_mayhem_archive_v24.html'"><strong>FILE</strong></div>
        <div class="toolbar-item" onclick="toggleRedactionMode()">REDACT</div>
        <div class="toolbar-item" onclick="printReport()">PRINT</div>
        <div class="toolbar-item" onclick="shareReport()">SHARE</div>
        <div class="toolbar-item" onclick="downloadReport()">DOWNLOAD</div>
        <div class="toolbar-item" onclick="toggleTheme()">VIEW</div>
        <div class="toolbar-item" onclick="showToast('INSERT: PERMISSION DENIED')">INSERT</div>
        <div class="toolbar-item" onclick="showToast('FORMAT: LOCKED')">FORMAT</div>
        <div class="toolbar-item" onclick="runVerification()" style="color: #0078d7;"><strong>VERIFY</strong></div>
        <div style="flex-grow:1;"></div>
        <div class="toolbar-item" style="color:#666;">ADAM_V26_EDITOR</div>
    </div>

    <div style="max-width: 1400px; margin: 0 auto; padding: 10px 20px; display:flex; justify-content:space-between; align-items:center; display: none;">
        <a href="market_mayhem_archive_v24.html" class="cyber-btn">&larr; RETURN TO ARCHIVE</a>
        <div style="font-family:'JetBrains Mono'; font-size:0.7rem; color:#666;">SECURE CONNECTION ESTABLISHED</div>
    </div>

    <div class="newsletter-wrapper">
        <div class="paper-sheet" id="paper-sheet">

            <!-- Top Secret Stamp -->
            <div id="top-secret-stamp" class="top-secret-stamp">TOP SECRET</div>

            <!-- High Tier Header UI -->
            <div class="doc-header-ui" style="display: flex;">
                <span id="verification-status">CONFIDENTIAL // SYSTEM 2 REVIEW</span>
                <span>a6bac835</span>
            </div>

            <div style="display:flex; justify-content:space-between; font-family:'JetBrains Mono'; font-size:0.8rem; color:#666; margin-bottom:20px; margin-top: 20px;">
                <span>2025-12-10</span>
                <span>ID: a6bac835</span>
            </div>

            <h1 class="title">Market Mayhem Newsletter - December 10, 2025</h1>

            <!-- Metadata Panel for High Tier (Embedded in Doc) -->
            <div class="doc-metadata-panel" style="display: grid;">
                <div class="doc-metadata-item"><strong>Classification</strong>UNCLASSIFIED</div>
                <div class="doc-metadata-item"><strong>Conviction</strong>100/100</div>
                <div class="doc-metadata-item"><strong>Sentiment</strong>42/100</div>
                <div class="doc-metadata-item"><strong>Reviewer</strong>Risk_Engine</div>
            </div>

            <div id="financialChartContainer" style="display:none; margin-bottom: 30px;">
                <canvas id="financialChart"></canvas>
            </div>

            <!-- Crisis Simulator (High Tier Only) -->
            <div id="crisisSimContainer" style="display:none; margin-bottom: 30px; border: 1px solid #cc0000; padding: 20px; background: rgba(50, 0, 0, 0.2);">
                <h3 style="color: #cc0000; margin-top: 0; font-family: 'JetBrains Mono'; border-bottom: 1px solid #cc0000; padding-bottom: 10px; margin-bottom: 20px;">CRISIS SIMULATOR // STRESS TEST</h3>

                <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 20px;">
                    <div class="crisis-btn" onclick="renderCrisis('2008_LEHMAN')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        2008 LEHMAN
                    </div>
                    <div class="crisis-btn" onclick="renderCrisis('1987_BLACK_MONDAY')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        1987 BLACK MON
                    </div>
                    <div class="crisis-btn" onclick="renderCrisis('2020_COVID')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        2020 PANDEMIC
                    </div>
                    <div class="crisis-btn" onclick="renderCrisis('2000_DOTCOM')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        2000 DOTCOM
                    </div>
                    <div class="crisis-btn" onclick="renderCrisis('2022_INFLATION')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        2022 INFLATION
                    </div>
                    <div class="crisis-btn" onclick="renderCrisis('2025_AI_SHOCK')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        2025 AI SHOCK
                    </div>
                </div>

                <div style="height: 300px; position: relative;">
                    <canvas id="crisisChart"></canvas>
                </div>
                <div style="font-size: 0.7rem; color: #888; margin-top: 15px; font-style: italic;">
                    * Hypothetical performance based on portfolio beta and current risk profile. PAST PERFORMANCE IS NOT INDICATIVE OF FUTURE RESULTS.
                </div>
            </div>

            <div id="document-body">
                <em>Subtitle: Your weekly guide to navigating the financial storms and spotting the sunshine!</em>
<p>---</p>
<h2>üìä Market Snapshot</h2>
<ul>
<li><strong>S&P 500:</strong> 6,840.51 (`-0.1%` WoW)</li>
</ul>
<ul>
<li><strong>Dow Jones:</strong> 47,560.29 (`-0.7%` WoW)</li>
</ul>
<ul>
<li><strong>Nasdaq Composite:</strong> 23,576.49 (`+0.5%` WoW)</li>
</ul>
<ul>
<li><strong>Bitcoin:</strong> 92,333.53 (`+3.4%` WoW)</li>
</ul>
<ul>
<li><strong>Brent Crude Oil:</strong> 62.09 (`-1.8%` WoW)</li>
</ul>
<ul>
<li><strong>Gold:</strong> 4,241.50 (`+0.7%` WoW)</li>
</ul>
<ul>
<li><strong>10-Year Treasury Yield:</strong> 4.19 (`+3.2%` WoW)</li>
</ul>
<p>---</p>
<h2>üå™Ô∏è Market Mayhem: Executive Summary</h2>
<h3>The Mood: Anxious Anticipation</h3>
<p>Welcome to the <strong>"Great Calibration"</strong>. The markets are currently caught in a pincer movement.</p>
<p>While the broader indices are taking a breather, the internal rotation is violent.</p>
<strong>Driver of the Week:</strong> The Reality Check.
<p>---</p>
<h2>üì∞ Key News & Events (The "What Happened")</h2>
<ul>
<li><strong>AAPL:</strong> What Trump's Nvidia China sales approval means for the Mag 7</li>
</ul>
<ul>
<li><strong>NVDA:</strong> OpenAI CEO joins Jimmy Fallon following Nvidia CEO's Joe Rogan chat</li>
</ul>
<ul>
<li><strong>TSLA:</strong> Stock market today: Dow, S&P 500, Nasdaq futures waver with Fed rate decision on deck</li>
</ul>
<ul>
<li><strong>MSFT:</strong> What Trump's Nvidia China sales approval means for the Mag 7</li>
</ul>
<ul>
<li><strong>GOOGL:</strong> Stock market today: Dow, S&P 500, Nasdaq futures waver with Fed rate decision on deck</li>
</ul>
<ul>
<li><strong>AMZN:</strong> Oracle set to report earnings as Wall Street looks for cracks in the AI bubble</li>
</ul>
<ul>
<li><strong>META:</strong> Slack's CEO is joining OpenAI to find the money to pay for all those data centers</li>
</ul>
<p>---</p>
<h2>üöÄ Top Investment Ideas (The "Alpha")</h2>
<h3>1. Theme: The "Sovereign Silicon" Shift</h3>
<ul>
<li><strong>The Play:</strong> Long Hyperscalers with custom chip stacks (<strong>Amazon, Google</strong>) vs. generic hardware integrators.</li>
<li><strong>Rationale:</strong> Value capture is shifting from the "arms dealers" (pure-play chipmakers) to the "sovereign nations" (Big Tech owning the full stack).</li>
</ul>
<h3>2. Theme: Energy Renaissance</h3>
<ul>
<li><strong>The Play:</strong> Integrated Oil Majors & Nuclear Utilities.</li>
<li><strong>Rationale:</strong> Energy was the only green sector this week (+0.9%). AI data centers need power.</li>
</ul>
<p>---</p>
<h2>üì° Notable Signals & Rumors</h2>
<ul>
<li><strong>The "Junior Crisis" Signal:</strong> Tech forums are ablaze with the "Junior Hiring Crisis."</li>
<li><strong>OpenAI's "Code Red":</strong> Rumors are swirling that OpenAI has declared an internal "Code Red".</li>
</ul>
<p>---</p>
<h2>üèõÔ∏è Policy Impact & Geopolitical Outlook</h2>
<ul>
<li><strong>The Fed's Dilemma:</strong> The bond market has priced in a cut with 90% certainty.</li>
</ul>
<p>---</p>
<h2>üìÖ Earnings Watch (Next Week)</h2>
<em>Investors should tune in for:</em>
<ul>
<li><strong>Adobe (ADBE):</strong> The Litmus Test for AI Monetization.</li>
<li><strong>Oracle (ORCL):</strong> The Cloud Infrastructure Bellwether.</li>
<li><strong>Costco (COST):</strong> The Consumer Health Check.</li>
</ul>
<p>---</p>
<h2>üß† Thematic Deep Dive: The AI ROI Reckoning</h2>
<p>For two years, the market asked only one question: "How many GPUs did you buy?" Now, the question is: <strong>"How much money did you make with them?"</strong></p>
<p>---</p>
<h2>üîÆ Year Ahead Forecast</h2>
<strong>Stance: Cautiously Neutral / Volatile.</strong>
<p>The remainder of 2025 will be defined by the "tug-of-war" between falling interest rates (Bullish) and slowing economic growth (Bearish).</p>
<p>---</p>
<h2>üñäÔ∏è Quirky Sign-Off</h2>
<p>> "In the short run, the market is a voting machine; in the long run, it is a weighing machine. But right now, it feels more like a slot machine with a loose handle."</p>
<p>May your portfolios be green, your coffee strong, and your due diligence thorough. Until next week, stay curious and invest wisely!</p>
<strong>- Adam v23.5</strong>
<em>Chief Market Strategist & Editor-in-Chief</em>
<p>---</p>
<h3>‚öñÔ∏è Disclaimer</h3>
<em>The content provided in this newsletter is for informational and educational purposes only and does not constitute financial advice. All market data is simulated or approximate based on available information.</em>

            </div>

            <!-- Provenance Log (All Tiers) -->
            <div class="provenance-log">
                <div class="log-entry">
                    <span>> HASH_CHECK</span>
                    <span style="color:var(--terminal-green);">a6bac835f89a2081056ef0505e981bb5b8b5696cb366ee5e7c126db0189a9419</span>
                </div>
                <div class="log-entry">
                    <span>> SENTIMENT_SCAN</span>
                    <span>42 (DENSITY: 61)</span>
                </div>
                <div class="log-entry">
                    <span>> CONVICTION_LOCK</span>
                    <span>100%</span>
                </div>
                <div class="log-entry">
                    <span>> CRITIQUE_LOG</span>
                    <span>"Agent Risk_Engine reviewed this intelligence. Verdict: REVIEW_REQUIRED. Sentiment alignment: 42/100. Cross-reference with knowledge graph completed."</span>
                </div>
            </div>

            <a href="#" class="source-jump-btn" onclick="toggleSource(); return false;" title="View Source JSON">JUMP TO SOURCE</a>

            <div style="margin-top: 40px; border-top: 1px solid #ccc; padding-top: 20px; font-style: italic; color: #666;">
                End of Transmission.
            </div>
        </div>

        <aside class="cyber-sidebar">
            <div class="sidebar-widget">
                <div class="sidebar-title">Intelligence Metadata</div>
                <div class="stat-row"><span>DATE</span> <span class="stat-val">2025-12-10</span></div>
                <div class="stat-row"><span>TYPE</span> <span class="stat-val">WEEKLY_RECAP</span></div>
                <div class="stat-row"><span>CLASS</span> <span class="stat-val">UNCLASSIFIED</span></div>
                <div class="stat-row"><span>PROVENANCE</span> <span class="stat-val" title="a6bac835f89a2081056ef0505e981bb5b8b5696cb366ee5e7c126db0189a9419">a6bac835</span></div>
            </div>

            <div class="sidebar-widget">
                <div class="sidebar-title">Sentiment Analysis</div>
                <div class="stat-row"><span>SCORE</span> <span class="stat-val">42/100</span></div>
                <div class="sentiment-bar">
                    <div class="sentiment-fill" style="width: 42%;"></div>
                </div>
            </div>

            <div class="sidebar-widget">
                <div class="sidebar-title">Detected Entities</div>
                <div class="tag-cloud">
                    <a href="market_mayhem_archive_v24.html?search=CN_PBOC" class="tag" style="text-decoration:none;">CN_PBOC</a><a href="market_mayhem_archive_v24.html?search=US_FED" class="tag" style="text-decoration:none;">US_FED</a><a href="market_mayhem_archive_v24.html?search=AI" class="tag" style="text-decoration:none; border-color:#666;">AI</a><a href="market_mayhem_archive_v24.html?search=Bitcoin" class="tag" style="text-decoration:none; border-color:#666;">Bitcoin</a><a href="market_mayhem_archive_v24.html?search=Cloud" class="tag" style="text-decoration:none; border-color:#666;">Cloud</a><a href="market_mayhem_archive_v24.html?search=DeFi" class="tag" style="text-decoration:none; border-color:#666;">DeFi</a><a href="market_mayhem_archive_v24.html?search=EV" class="tag" style="text-decoration:none; border-color:#666;">EV</a>
                </div>
            </div>

             <div class="sidebar-widget">
                <div class="sidebar-title">Agent Conviction</div>
                 <div class="stat-row"><span>CONFIDENCE</span> <span class="stat-val">100/100</span></div>
                 <div class="sentiment-bar">
                    <div class="sentiment-fill" style="width: 100%; background: #00ff00;"></div>
                </div>
            </div>

            <div class="sidebar-widget">
                <div class="sidebar-title">Semantic Analysis</div>
                 <div class="stat-row"><span>DENSITY</span> <span class="stat-val">61/100</span></div>
                 <div class="stat-row"><span>PROBABILITY</span> <span class="stat-val">99/100</span></div>
            </div>

             <div class="sidebar-widget" style="border-color: #555;">
                <div class="sidebar-title">Reviewer Agent Log</div>
                 <div style="font-size: 0.75rem; color: #ccc; font-style: italic;">
                    "Agent Risk_Engine reviewed this intelligence. Verdict: REVIEW_REQUIRED. Sentiment alignment: 42/100. Cross-reference with knowledge graph completed."
                </div>
                <div class="stat-row" style="margin-top:10px;"><span>QUALITY SCORE</span> <span class="stat-val">100/100</span></div>
            </div>

             <div class="sidebar-widget">
                <div class="sidebar-title">Contributing Agents</div>
                 <div style="display:flex; flex-direction:column; gap:5px;">
                    <div style="font-size:0.75rem; color:#666;">System Core</div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Hidden Raw Data -->
    <textarea id="hidden-raw-data" style="display:none;">{
  "title": "Market Mayhem Newsletter - December 10, 2025",
  "date": "2025-12-10",
  "summary": " The Mood: Anxious Anticipation\n\nWelcome to the \"Great Calibration\". The markets are currently caught in a pincer movement.\n\nWhile the broader indices are taking a breather, the internal rotation is v...",
  "type": "WEEKLY_RECAP",
  "full_body": "<em>Subtitle: Your weekly guide to navigating the financial storms and spotting the sunshine!</em>\n<p>---</p>\n<h2>\ud83d\udcca Market Snapshot</h2>\n<ul>\n<li><strong>S&P 500:</strong> 6,840.51 (`-0.1%` WoW)</li>\n</ul>\n<ul>\n<li><strong>Dow Jones:</strong> 47,560.29 (`-0.7%` WoW)</li>\n</ul>\n<ul>\n<li><strong>Nasdaq Composite:</strong> 23,576.49 (`+0.5%` WoW)</li>\n</ul>\n<ul>\n<li><strong>Bitcoin:</strong> 92,333.53 (`+3.4%` WoW)</li>\n</ul>\n<ul>\n<li><strong>Brent Crude Oil:</strong> 62.09 (`-1.8%` WoW)</li>\n</ul>\n<ul>\n<li><strong>Gold:</strong> 4,241.50 (`+0.7%` WoW)</li>\n</ul>\n<ul>\n<li><strong>10-Year Treasury Yield:</strong> 4.19 (`+3.2%` WoW)</li>\n</ul>\n<p>---</p>\n<h2>\ud83c\udf2a\ufe0f Market Mayhem: Executive Summary</h2>\n<h3>The Mood: Anxious Anticipation</h3>\n<p>Welcome to the <strong>\"Great Calibration\"</strong>. The markets are currently caught in a pincer movement.</p>\n<p>While the broader indices are taking a breather, the internal rotation is violent.</p>\n<strong>Driver of the Week:</strong> The Reality Check.\n<p>---</p>\n<h2>\ud83d\udcf0 Key News & Events (The \"What Happened\")</h2>\n<ul>\n<li><strong>AAPL:</strong> What Trump's Nvidia China sales approval means for the Mag 7</li>\n</ul>\n<ul>\n<li><strong>NVDA:</strong> OpenAI CEO joins Jimmy Fallon following Nvidia CEO's Joe Rogan chat</li>\n</ul>\n<ul>\n<li><strong>TSLA:</strong> Stock market today: Dow, S&P 500, Nasdaq futures waver with Fed rate decision on deck</li>\n</ul>\n<ul>\n<li><strong>MSFT:</strong> What Trump's Nvidia China sales approval means for the Mag 7</li>\n</ul>\n<ul>\n<li><strong>GOOGL:</strong> Stock market today: Dow, S&P 500, Nasdaq futures waver with Fed rate decision on deck</li>\n</ul>\n<ul>\n<li><strong>AMZN:</strong> Oracle set to report earnings as Wall Street looks for cracks in the AI bubble</li>\n</ul>\n<ul>\n<li><strong>META:</strong> Slack's CEO is joining OpenAI to find the money to pay for all those data centers</li>\n</ul>\n<p>---</p>\n<h2>\ud83d\ude80 Top Investment Ideas (The \"Alpha\")</h2>\n<h3>1. Theme: The \"Sovereign Silicon\" Shift</h3>\n<ul>\n<li><strong>The Play:</strong> Long Hyperscalers with custom chip stacks (<strong>Amazon, Google</strong>) vs. generic hardware integrators.</li>\n<li><strong>Rationale:</strong> Value capture is shifting from the \"arms dealers\" (pure-play chipmakers) to the \"sovereign nations\" (Big Tech owning the full stack).</li>\n</ul>\n<h3>2. Theme: Energy Renaissance</h3>\n<ul>\n<li><strong>The Play:</strong> Integrated Oil Majors & Nuclear Utilities.</li>\n<li><strong>Rationale:</strong> Energy was the only green sector this week (+0.9%). AI data centers need power.</li>\n</ul>\n<p>---</p>\n<h2>\ud83d\udce1 Notable Signals & Rumors</h2>\n<ul>\n<li><strong>The \"Junior Crisis\" Signal:</strong> Tech forums are ablaze with the \"Junior Hiring Crisis.\"</li>\n<li><strong>OpenAI's \"Code Red\":</strong> Rumors are swirling that OpenAI has declared an internal \"Code Red\".</li>\n</ul>\n<p>---</p>\n<h2>\ud83c\udfdb\ufe0f Policy Impact & Geopolitical Outlook</h2>\n<ul>\n<li><strong>The Fed's Dilemma:</strong> The bond market has priced in a cut with 90% certainty.</li>\n</ul>\n<p>---</p>\n<h2>\ud83d\udcc5 Earnings Watch (Next Week)</h2>\n<em>Investors should tune in for:</em>\n<ul>\n<li><strong>Adobe (ADBE):</strong> The Litmus Test for AI Monetization.</li>\n<li><strong>Oracle (ORCL):</strong> The Cloud Infrastructure Bellwether.</li>\n<li><strong>Costco (COST):</strong> The Consumer Health Check.</li>\n</ul>\n<p>---</p>\n<h2>\ud83e\udde0 Thematic Deep Dive: The AI ROI Reckoning</h2>\n<p>For two years, the market asked only one question: \"How many GPUs did you buy?\" Now, the question is: <strong>\"How much money did you make with them?\"</strong></p>\n<p>---</p>\n<h2>\ud83d\udd2e Year Ahead Forecast</h2>\n<strong>Stance: Cautiously Neutral / Volatile.</strong>\n<p>The remainder of 2025 will be defined by the \"tug-of-war\" between falling interest rates (Bullish) and slowing economic growth (Bearish).</p>\n<p>---</p>\n<h2>\ud83d\udd8a\ufe0f Quirky Sign-Off</h2>\n<p>> \"In the short run, the market is a voting machine; in the long run, it is a weighing machine. But right now, it feels more like a slot machine with a loose handle.\"</p>\n<p>May your portfolios be green, your coffee strong, and your due diligence thorough. Until next week, stay curious and invest wisely!</p>\n<strong>- Adam v23.5</strong>\n<em>Chief Market Strategist & Editor-in-Chief</em>\n<p>---</p>\n<h3>\u2696\ufe0f Disclaimer</h3>\n<em>The content provided in this newsletter is for informational and educational purposes only and does not constitute financial advice. All market data is simulated or approximate based on available information.</em>\n",
  "sentiment_score": 42,
  "entities": {
    "tickers": [],
    "agents": [],
    "sovereigns": [
      "CN_PBOC",
      "US_FED"
    ],
    "keywords": [
      "AI",
      "Bitcoin",
      "Cloud",
      "DeFi",
      "EV"
    ]
  },
  "provenance_hash": "a6bac835f89a2081056ef0505e981bb5b8b5696cb366ee5e7c126db0189a9419",
  "filename": "Weekly_Recap_20251210.html",
  "is_sourced": true,
  "metrics_json": "{}",
  "source_priority": 2,
  "conviction": 100,
  "critique": "Agent Risk_Engine reviewed this intelligence. Verdict: REVIEW_REQUIRED. Sentiment alignment: 42/100. Cross-reference with knowledge graph completed.",
  "quality": 100,
  "semantic_score": 61,
  "probability": 99
}</textarea>

    <script>
        // Chart Injection Logic
        const metricsData = {};
        const crisisData = {"2008_LEHMAN": {"scenario": "2008_LEHMAN", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30], "market": [100.0, 98.34, 97.33, 101.6, 102.74, 96.05, 98.19, 100.05, 95.99, 86.7, 84.89, 84.28, 83.99, 79.17, 84.65, 101.87, 102.5, 86.46, 100.6, 90.91, 92.65, 89.41, 85.68, 85.75, 87.14, 90.19, 88.69, 78.37, 80.98, 81.01], "portfolio": [100.0, 103.72, 95.87, 99.73, 98.1, 92.93, 92.2, 96.96, 94.29, 83.36, 80.62, 80.07, 81.58, 75.45, 84.27, 98.14, 97.06, 77.13, 87.13, 80.06, 80.35, 78.31, 75.11, 72.18, 72.54, 74.37, 77.31, 68.38, 69.61, 70.29]}, "1987_BLACK_MONDAY": {"scenario": "1987_BLACK_MONDAY", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], "market": [100.0, 103.07, 99.72, 108.4, 113.43, 107.96, 83.94, 74.35, 84.55, 97.59, 101.9, 96.22, 116.0, 106.24, 128.96, 136.51, 111.13, 93.51, 88.84, 94.33], "portfolio": [100.0, 100.26, 99.19, 110.79, 118.18, 114.48, 88.03, 75.32, 83.39, 100.26, 108.27, 108.32, 131.53, 117.22, 138.29, 144.18, 113.49, 96.72, 90.95, 95.88]}, "2020_COVID": {"scenario": "2020_COVID", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40], "market": [100.0, 103.55, 98.23, 105.99, 118.53, 122.82, 114.23, 105.0, 105.53, 113.23, 115.61, 126.76, 121.93, 119.8, 99.76, 108.46, 103.65, 94.18, 103.06, 109.18, 105.72, 129.4, 112.05, 111.41, 120.07, 117.22, 97.71, 96.25, 107.88, 93.17, 103.83, 106.18, 95.18, 84.59, 82.12, 78.51, 79.39, 82.83, 80.93, 83.08], "portfolio": [100.0, 102.8, 99.4, 106.34, 122.37, 126.22, 118.84, 111.33, 114.21, 124.6, 126.84, 138.28, 129.71, 133.48, 107.27, 116.27, 117.02, 99.03, 111.78, 121.83, 119.98, 146.13, 125.15, 127.69, 133.38, 126.56, 103.82, 101.51, 113.88, 94.11, 104.72, 103.25, 90.35, 81.52, 80.41, 77.33, 78.17, 83.31, 82.21, 84.63]}, "2000_DOTCOM": {"scenario": "2000_DOTCOM", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60], "market": [100.0, 88.86, 84.81, 84.62, 87.06, 80.85, 77.37, 76.04, 73.12, 72.17, 69.42, 68.35, 67.94, 63.88, 68.63, 62.68, 68.06, 69.0, 63.23, 60.8, 59.66, 56.64, 57.95, 59.1, 51.02, 50.23, 55.67, 57.96, 56.84, 41.25, 45.26, 40.63, 40.56, 44.63, 46.52, 49.34, 46.98, 47.17, 42.77, 43.61, 45.07, 42.2, 39.2, 36.93, 36.2, 35.51, 38.26, 40.28, 42.03, 42.89, 43.61, 41.72, 43.5, 41.69, 39.02, 38.3, 40.45, 39.87, 37.09, 37.64], "portfolio": [100.0, 90.97, 87.94, 88.8, 90.94, 84.27, 80.87, 78.89, 74.53, 74.68, 73.66, 73.02, 71.65, 66.96, 73.91, 64.91, 70.99, 75.64, 68.74, 67.53, 67.25, 66.72, 68.56, 73.31, 64.49, 63.67, 71.68, 74.7, 76.75, 52.23, 57.46, 49.09, 46.69, 52.73, 55.14, 59.29, 56.92, 57.52, 53.54, 56.01, 58.11, 53.23, 49.62, 47.45, 45.13, 43.2, 45.3, 46.58, 48.57, 48.78, 50.18, 48.81, 51.4, 49.33, 48.5, 46.99, 50.22, 48.18, 44.9, 44.88]}, "2022_INFLATION": {"scenario": "2022_INFLATION", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50], "market": [100.0, 95.15, 95.07, 99.31, 93.52, 93.17, 90.89, 85.0, 82.89, 76.91, 74.57, 76.79, 77.35, 80.12, 78.7, 77.77, 78.86, 77.16, 77.85, 71.27, 71.03, 69.3, 67.17, 69.13, 60.8, 66.23, 70.76, 75.32, 71.07, 64.14, 67.83, 65.31, 67.13, 70.02, 65.96, 64.26, 64.62, 66.23, 67.35, 67.44, 65.94, 65.28, 64.92, 64.9, 63.19, 65.1, 62.45, 62.39, 62.36, 62.76], "portfolio": [100.0, 92.51, 92.14, 100.71, 94.39, 95.28, 95.92, 94.64, 96.98, 90.2, 86.35, 90.48, 89.71, 94.49, 94.08, 93.55, 94.15, 90.2, 89.23, 85.91, 90.45, 93.31, 91.53, 97.24, 80.37, 95.08, 107.65, 110.73, 105.0, 90.85, 98.96, 98.61, 100.68, 102.24, 96.38, 93.78, 102.43, 106.54, 108.34, 106.08, 103.81, 102.1, 104.71, 97.63, 93.87, 95.62, 96.54, 92.41, 92.64, 89.64]}, "2025_AI_SHOCK": {"scenario": "2025_AI_SHOCK", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35], "market": [100.0, 100.04, 101.74, 105.85, 117.92, 100.08, 92.54, 76.2, 75.67, 74.71, 67.02, 72.97, 73.97, 76.89, 66.58, 77.44, 89.33, 78.68, 91.96, 108.91, 102.88, 106.79, 90.51, 91.13, 68.61, 52.91, 46.14, 46.6, 42.2, 40.44, 42.71, 41.57, 40.08, 34.11, 32.85], "portfolio": [100.0, 100.64, 104.49, 107.95, 121.63, 103.67, 97.21, 79.8, 79.83, 78.92, 70.94, 79.05, 82.73, 84.91, 76.47, 86.99, 93.54, 94.62, 102.95, 120.65, 121.48, 126.7, 104.52, 110.52, 81.29, 59.04, 53.47, 52.24, 46.46, 44.42, 48.23, 47.48, 45.68, 37.87, 36.41]}};

        // --- Metrics Chart ---
        if (metricsData && Object.keys(metricsData).length > 0) {
            const ctx = document.getElementById('financialChart');
            const container = document.getElementById('financialChartContainer');

            // Basic parsing of metrics structure (assuming flat or Year->Val)
            let labels = [];
            let values = [];
            let labelName = "Metric";

            // Try to find a timeseries
            for (const [key, val] of Object.entries(metricsData)) {
                if (typeof val === 'object') {
                    // Likely year -> value
                    labels = Object.keys(val);
                    values = Object.values(val).map(v => parseFloat(v.replace(/[^0-9.-]/g, '')));
                    labelName = key;
                    break;
                }
            }

            if (labels.length > 0) {
                container.style.display = 'block';
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: labelName,
                            data: values,
                            backgroundColor: 'rgba(204, 0, 0, 0.5)',
                            borderColor: '#cc0000',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#ccc' } }
                        },
                        scales: {
                            y: { grid: { color: '#333' }, ticks: { color: '#888' } },
                            x: { grid: { color: '#333' }, ticks: { color: '#888' } }
                        }
                    }
                });
            }
        }

        // --- Crisis Simulation Logic ---
        let crisisChartInstance = null;

        window.renderCrisis = function(scenarioName) {
            if (!crisisData || !crisisData[scenarioName]) return;

            // UI Feedback for Buttons
            document.querySelectorAll('.crisis-btn').forEach(btn => {
                btn.style.borderColor = btn.innerText.includes(scenarioName.split('_')[1]) ? '#cc0000' : '#666';
                btn.style.color = btn.innerText.includes(scenarioName.split('_')[1]) ? '#cc0000' : '#ccc';
            });

            const data = crisisData[scenarioName];
            const ctx = document.getElementById('crisisChart').getContext('2d');

            if (crisisChartInstance) {
                crisisChartInstance.destroy();
            }

            crisisChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.labels,
                    datasets: [
                        {
                            label: 'Your Portfolio (Simulated)',
                            data: data.portfolio,
                            borderColor: '#00f3ff',
                            backgroundColor: 'rgba(0, 243, 255, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            pointRadius: 0
                        },
                        {
                            label: 'Market Benchmark',
                            data: data.market,
                            borderColor: '#666',
                            borderDash: [5, 5],
                            borderWidth: 1,
                            pointRadius: 0,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    plugins: {
                        legend: { labels: { color: '#ccc', font: { family: 'JetBrains Mono' } } },
                        title: {
                            display: true,
                            text: 'STRESS TEST SCENARIO: ' + scenarioName.replace(/_/g, ' '),
                            color: '#cc0000',
                            font: { family: 'JetBrains Mono' }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0,0,0,0.8)',
                            titleColor: '#cc0000',
                            bodyColor: '#fff',
                            borderColor: '#333',
                            borderWidth: 1
                        }
                    },
                    scales: {
                        y: {
                            grid: { color: '#333' },
                            ticks: { color: '#888', callback: function(value) { return value + '%'; } }
                        },
                        x: {
                            grid: { color: '#333' },
                            ticks: { display: false }
                        }
                    }
                }
            });
        };

        // Auto-Run Default Crisis if Data Available
        if (crisisData && Object.keys(crisisData).length > 0) {
            document.getElementById('crisisSimContainer').style.display = 'block';
            // slight delay to ensure Chart.js loaded
            setTimeout(() => renderCrisis('2008_LEHMAN'), 100);
        }
    </script>
</body>
</html>
