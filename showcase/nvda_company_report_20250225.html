<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADAM v23.5 :: Nvidia Corporation (NVDA) Report</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/market_mayhem_tiers.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/nav.js" defer></script>
    <script src="js/market_mayhem_viewer.js" defer></script>
</head>
<body class="tier-high">

    <!-- System 2 Verification Overlay -->
    <div id="system2-overlay" class="system2-overlay">
        <div class="system2-terminal">
            <div id="sys2-content"></div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="cyber-toast-container"></div>

    <!-- Raw Source Modal -->
    <div id="raw-source-modal" class="raw-source-modal">
        <div class="raw-source-header">
            <span>SOURCE_DATA.JSON</span>
            <span style="cursor:pointer; color:#cc0000;" onclick="toggleSource()">[CLOSE]</span>
        </div>
        <div class="raw-source-content" id="raw-source-content"></div>
    </div>

    <!-- Virtual Toolbar for High Tier -->
    <div class="doc-toolbar" style="display: flex;">
        <div class="toolbar-item" onclick="window.location.href='market_mayhem_archive.html'"><strong>FILE</strong></div>
        <div class="toolbar-item" onclick="toggleRedactionMode()">REDACT</div>
        <div class="toolbar-item" onclick="printReport()">PRINT</div>
        <div class="toolbar-item" onclick="shareReport()">SHARE</div>
        <div class="toolbar-item" onclick="downloadReport()">DOWNLOAD</div>
        <div class="toolbar-item" onclick="toggleTheme()">VIEW</div>
        <div class="toolbar-item" onclick="showToast('INSERT: PERMISSION DENIED')">INSERT</div>
        <div class="toolbar-item" onclick="showToast('FORMAT: LOCKED')">FORMAT</div>
        <div class="toolbar-item" onclick="runVerification()" style="color: #0078d7;"><strong>VERIFY</strong></div>
        <div style="flex-grow:1;"></div>
        <div class="toolbar-item" style="color:#666;">ADAM_V26_EDITOR</div>
    </div>

    <div style="max-width: 1400px; margin: 0 auto; padding: 10px 20px; display:flex; justify-content:space-between; align-items:center; display: none;">
        <a href="market_mayhem_archive.html" class="cyber-btn">&larr; RETURN TO ARCHIVE</a>
        <div style="font-family:'JetBrains Mono'; font-size:0.7rem; color:#666;">SECURE CONNECTION ESTABLISHED</div>
    </div>

    <div class="newsletter-wrapper">
        <div class="paper-sheet" id="paper-sheet">

            <!-- Top Secret Stamp -->
            <div id="top-secret-stamp" class="top-secret-stamp">TOP SECRET</div>

            <!-- High Tier Header UI -->
            <div class="doc-header-ui" style="display: flex;">
                <span id="verification-status">CONFIDENTIAL // SYSTEM 2 REVIEW</span>
                <span>06f02cb9</span>
            </div>

            <div style="display:flex; justify-content:space-between; font-family:'JetBrains Mono'; font-size:0.8rem; color:#666; margin-bottom:20px; margin-top: 20px;">
                <span>2025-02-25</span>
                <span>ID: 06f02cb9</span>
            </div>

            <h1 class="title">Nvidia Corporation (NVDA) Report</h1>

            <!-- Metadata Panel for High Tier (Embedded in Doc) -->
            <div class="doc-metadata-panel" style="display: grid;">
                <div class="doc-metadata-item"><strong>Classification</strong>UNCLASSIFIED</div>
                <div class="doc-metadata-item"><strong>Conviction</strong>0/100</div>
                <div class="doc-metadata-item"><strong>Sentiment</strong>100/100</div>
                <div class="doc-metadata-item"><strong>Reviewer</strong>Overseer</div>
            </div>

            <div id="financialChartContainer" style="display:none; margin-bottom: 30px;">
                <canvas id="financialChart"></canvas>
            </div>

            <!-- Crisis Simulator (High Tier Only) -->
            <div id="crisisSimContainer" style="display:none; margin-bottom: 30px; border: 1px solid #cc0000; padding: 20px; background: rgba(50, 0, 0, 0.2);">
                <h3 style="color: #cc0000; margin-top: 0; font-family: 'JetBrains Mono'; border-bottom: 1px solid #cc0000; padding-bottom: 10px; margin-bottom: 20px;">CRISIS SIMULATOR // STRESS TEST</h3>

                <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 20px;">
                    <div class="crisis-btn" onclick="renderCrisis('2008_LEHMAN')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        2008 LEHMAN
                    </div>
                    <div class="crisis-btn" onclick="renderCrisis('1987_BLACK_MONDAY')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        1987 BLACK MON
                    </div>
                    <div class="crisis-btn" onclick="renderCrisis('2020_COVID')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        2020 PANDEMIC
                    </div>
                    <div class="crisis-btn" onclick="renderCrisis('2000_DOTCOM')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        2000 DOTCOM
                    </div>
                    <div class="crisis-btn" onclick="renderCrisis('2022_INFLATION')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        2022 INFLATION
                    </div>
                    <div class="crisis-btn" onclick="renderCrisis('2025_AI_SHOCK')" style="cursor:pointer; text-align:center; padding: 10px; border: 1px solid #666; font-size: 0.8rem; color: #ccc;">
                        2025 AI SHOCK
                    </div>
                </div>

                <div style="height: 300px; position: relative;">
                    <canvas id="crisisChart"></canvas>
                </div>
                <div style="font-size: 0.7rem; color: #888; margin-top: 15px; font-style: italic;">
                    * Hypothetical performance based on portfolio beta and current risk profile. PAST PERFORMANCE IS NOT INDICATIVE OF FUTURE RESULTS.
                </div>
            </div>

            <div id="document-body">
                <h2>Executive Summary</h2><p>Nvidia is a leading designer of graphics processing units (GPUs) with a strong position in gaming, data centers, AI, and automotive.  Despite competitive pressures and geopolitical risks, the company's technological leadership and diversified business model position it for continued growth.</p><h2>Segments</h2><ul><li><strong>name:</strong> Compute & Networking, <strong>revenue_growth:</strong> Strong, <strong>key_drivers:</strong> ['Data center GPUs', 'AI platforms', 'Networking solutions'], <strong>highlights:</strong> ['Rapid growth in data center revenue driven by increasing demand for AI and HPC.', "Strong adoption of Nvidia's AI platforms and software ecosystem.", 'Expanding presence in high-performance networking.']</li><li><strong>name:</strong> Graphics, <strong>revenue_growth:</strong> Moderate, <strong>key_drivers:</strong> ['Gaming GPUs', 'Professional visualization'], <strong>highlights:</strong> ['Continued growth in gaming, driven by new GPU launches and esports.', 'Expanding into professional visualization and creative applications.', "Growing adoption of Nvidia's GeForce NOW cloud gaming service."], <strong>concerns:</strong> ['Potential slowdown in gaming market growth.', 'Competition from AMD in the GPU market.']</li></ul><h2>Competitive Landscape</h2><h3>Data Centers And Ai</h3><h4>Main Competitors</h4><ul><li>AMD</li><li>Intel</li><li>Google</li></ul><h4>Nvidia Differentiators</h4><ul><li>Technological leadership in GPU performance</li><li>CUDA software ecosystem</li><li>Strong partnerships with cloud providers</li></ul><h3>Gaming</h3><h4>Main Competitors</h4><ul><li>AMD</li><li>Intel</li></ul><h4>Nvidia Differentiators</h4><ul><li>Brand recognition and market share</li><li>GeForce NOW cloud gaming service</li><li>Strong relationships with game developers</li></ul><h3>Automotive</h3><h4>Main Competitors</h4><ul><li>Qualcomm</li><li>Mobileye</li><li>Tesla</li></ul><h4>Nvidia Differentiators</h4><ul><li>Full-stack autonomous driving platform</li><li>AI expertise and simulation capabilities</li></ul><h2>Growth Opportunities</h2><ul><li>Continued expansion of AI and HPC applications across industries.</li><li>Growth of cloud gaming and the metaverse.</li><li>Increasing adoption of autonomous driving technology.</li><li>Expansion into new markets such as healthcare and edge computing.</li></ul><h2>Challenges</h2><ul><li>Maintaining technological leadership in a rapidly evolving industry.</li><li>Managing geopolitical risks and supply chain vulnerabilities.</li><li>Navigating regulatory scrutiny and potential antitrust concerns.</li><li>Addressing environmental concerns related to energy consumption of GPUs.</li></ul><h2>Trading Levels</h2><h3>Equity</h3><h4>Outlook</h4><p>Positive</p><h4>Price Target</h4><p>230</p><h4>Potential Upside</h4><p>81.8%</p><h2>Valuation</h2><h3>Model</h3><p>Discounted Cash Flow (DCF)</p><h3>Assumptions</h3><h4>Revenue Growth</h4><p>20% (next 5 years), then tapering to 3%</p><h4>Operating Margin</h4><p>35% (long-term)</p><h4>Discount Rate</h4><p>10%</p><h4>Terminal Growth Rate</h4><p>3%</p><h3>Price Target</h3><p>230</p>
            </div>

            <!-- Provenance Log (All Tiers) -->
            <div class="provenance-log">
                <div class="log-entry">
                    <span>> HASH_CHECK</span>
                    <span style="color:var(--terminal-green);">06f02cb97e4af202eabf9ef446caecf7ddd82ef35e7a4955677b6f50158c8887</span>
                </div>
                <div class="log-entry">
                    <span>> SENTIMENT_SCAN</span>
                    <span>100 (DENSITY: 35)</span>
                </div>
                <div class="log-entry">
                    <span>> CONVICTION_LOCK</span>
                    <span>0%</span>
                </div>
                <div class="log-entry">
                    <span>> CRITIQUE_LOG</span>
                    <span>"Agent Overseer reviewed this intelligence. Verdict: VALIDATED. Sentiment alignment: 100/100. Cross-reference with knowledge graph completed."</span>
                </div>
            </div>

            <a href="#" class="source-jump-btn" onclick="toggleSource(); return false;" title="View Source JSON">JUMP TO SOURCE</a>

            <div style="margin-top: 40px; border-top: 1px solid #ccc; padding-top: 20px; font-style: italic; color: #666;">
                End of Transmission.
            </div>
        </div>

        <aside class="cyber-sidebar">
            <div class="sidebar-widget">
                <div class="sidebar-title">Intelligence Metadata</div>
                <div class="stat-row"><span>DATE</span> <span class="stat-val">2025-02-25</span></div>
                <div class="stat-row"><span>TYPE</span> <span class="stat-val">COMPANY_REPORT</span></div>
                <div class="stat-row"><span>CLASS</span> <span class="stat-val">UNCLASSIFIED</span></div>
                <div class="stat-row"><span>PROVENANCE</span> <span class="stat-val" title="06f02cb97e4af202eabf9ef446caecf7ddd82ef35e7a4955677b6f50158c8887">06f02cb9</span></div>
            </div>

            <div class="sidebar-widget">
                <div class="sidebar-title">Sentiment Analysis</div>
                <div class="stat-row"><span>SCORE</span> <span class="stat-val">100/100</span></div>
                <div class="sentiment-bar">
                    <div class="sentiment-fill" style="width: 100%;"></div>
                </div>
            </div>

            <div class="sidebar-widget">
                <div class="sidebar-title">Detected Entities</div>
                <div class="tag-cloud">
                    <a href="market_mayhem_archive.html?search=AI" class="tag" style="text-decoration:none; border-color:#666;">AI</a><a href="market_mayhem_archive.html?search=Cloud" class="tag" style="text-decoration:none; border-color:#666;">Cloud</a><a href="market_mayhem_archive.html?search=EV" class="tag" style="text-decoration:none; border-color:#666;">EV</a><a href="market_mayhem_archive.html?search=Energy" class="tag" style="text-decoration:none; border-color:#666;">Energy</a><a href="market_mayhem_archive.html?search=Growth" class="tag" style="text-decoration:none; border-color:#666;">Growth</a>
                </div>
            </div>

             <div class="sidebar-widget">
                <div class="sidebar-title">Agent Conviction</div>
                 <div class="stat-row"><span>CONFIDENCE</span> <span class="stat-val">0/100</span></div>
                 <div class="sentiment-bar">
                    <div class="sentiment-fill" style="width: 0%; background: #ff0000;"></div>
                </div>
            </div>

            <div class="sidebar-widget">
                <div class="sidebar-title">Semantic Analysis</div>
                 <div class="stat-row"><span>DENSITY</span> <span class="stat-val">35/100</span></div>
                 <div class="stat-row"><span>PROBABILITY</span> <span class="stat-val">0/100</span></div>
            </div>

             <div class="sidebar-widget" style="border-color: #555;">
                <div class="sidebar-title">Reviewer Agent Log</div>
                 <div style="font-size: 0.75rem; color: #ccc; font-style: italic;">
                    "Agent Overseer reviewed this intelligence. Verdict: VALIDATED. Sentiment alignment: 100/100. Cross-reference with knowledge graph completed."
                </div>
                <div class="stat-row" style="margin-top:10px;"><span>QUALITY SCORE</span> <span class="stat-val">100/100</span></div>
            </div>

             <div class="sidebar-widget">
                <div class="sidebar-title">Contributing Agents</div>
                 <div style="display:flex; flex-direction:column; gap:5px;">
                    <div style="font-size:0.75rem; color:#666;">System Core</div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Hidden Raw Data -->
    <textarea id="hidden-raw-data" style="display:none;">{
  "title": "Nvidia Corporation (NVDA) Report",
  "date": "2025-02-25",
  "summary": "Nvidia is a leading designer of graphics processing units (GPUs) with a strong position in gaming, data centers, AI, and automotive.  Despite competitive pressures and geopolitical risks, the company's technological leadership and diversified business model position it for continued growth.",
  "type": "COMPANY_REPORT",
  "full_body": "<h2>Executive Summary</h2><p>Nvidia is a leading designer of graphics processing units (GPUs) with a strong position in gaming, data centers, AI, and automotive.  Despite competitive pressures and geopolitical risks, the company's technological leadership and diversified business model position it for continued growth.</p><h2>Segments</h2><ul><li><strong>name:</strong> Compute & Networking, <strong>revenue_growth:</strong> Strong, <strong>key_drivers:</strong> ['Data center GPUs', 'AI platforms', 'Networking solutions'], <strong>highlights:</strong> ['Rapid growth in data center revenue driven by increasing demand for AI and HPC.', \"Strong adoption of Nvidia's AI platforms and software ecosystem.\", 'Expanding presence in high-performance networking.']</li><li><strong>name:</strong> Graphics, <strong>revenue_growth:</strong> Moderate, <strong>key_drivers:</strong> ['Gaming GPUs', 'Professional visualization'], <strong>highlights:</strong> ['Continued growth in gaming, driven by new GPU launches and esports.', 'Expanding into professional visualization and creative applications.', \"Growing adoption of Nvidia's GeForce NOW cloud gaming service.\"], <strong>concerns:</strong> ['Potential slowdown in gaming market growth.', 'Competition from AMD in the GPU market.']</li></ul><h2>Competitive Landscape</h2><h3>Data Centers And Ai</h3><h4>Main Competitors</h4><ul><li>AMD</li><li>Intel</li><li>Google</li></ul><h4>Nvidia Differentiators</h4><ul><li>Technological leadership in GPU performance</li><li>CUDA software ecosystem</li><li>Strong partnerships with cloud providers</li></ul><h3>Gaming</h3><h4>Main Competitors</h4><ul><li>AMD</li><li>Intel</li></ul><h4>Nvidia Differentiators</h4><ul><li>Brand recognition and market share</li><li>GeForce NOW cloud gaming service</li><li>Strong relationships with game developers</li></ul><h3>Automotive</h3><h4>Main Competitors</h4><ul><li>Qualcomm</li><li>Mobileye</li><li>Tesla</li></ul><h4>Nvidia Differentiators</h4><ul><li>Full-stack autonomous driving platform</li><li>AI expertise and simulation capabilities</li></ul><h2>Growth Opportunities</h2><ul><li>Continued expansion of AI and HPC applications across industries.</li><li>Growth of cloud gaming and the metaverse.</li><li>Increasing adoption of autonomous driving technology.</li><li>Expansion into new markets such as healthcare and edge computing.</li></ul><h2>Challenges</h2><ul><li>Maintaining technological leadership in a rapidly evolving industry.</li><li>Managing geopolitical risks and supply chain vulnerabilities.</li><li>Navigating regulatory scrutiny and potential antitrust concerns.</li><li>Addressing environmental concerns related to energy consumption of GPUs.</li></ul><h2>Trading Levels</h2><h3>Equity</h3><h4>Outlook</h4><p>Positive</p><h4>Price Target</h4><p>230</p><h4>Potential Upside</h4><p>81.8%</p><h2>Valuation</h2><h3>Model</h3><p>Discounted Cash Flow (DCF)</p><h3>Assumptions</h3><h4>Revenue Growth</h4><p>20% (next 5 years), then tapering to 3%</p><h4>Operating Margin</h4><p>35% (long-term)</p><h4>Discount Rate</h4><p>10%</p><h4>Terminal Growth Rate</h4><p>3%</p><h3>Price Target</h3><p>230</p>",
  "sentiment_score": 100,
  "entities": {
    "tickers": [],
    "agents": [],
    "sovereigns": [],
    "keywords": [
      "AI",
      "Cloud",
      "EV",
      "Energy",
      "Growth"
    ]
  },
  "provenance_hash": "06f02cb97e4af202eabf9ef446caecf7ddd82ef35e7a4955677b6f50158c8887",
  "filename": "nvda_company_report_20250225.html",
  "is_sourced": true,
  "metrics_json": "{}",
  "source_priority": 2,
  "conviction": 0,
  "semantic_score": 35,
  "probability": 0,
  "critique": "Agent Overseer reviewed this intelligence. Verdict: VALIDATED. Sentiment alignment: 100/100. Cross-reference with knowledge graph completed.",
  "outlook_score": 22
}</textarea>

    <script>
        // Chart Injection Logic
        const metricsData = {};
        const crisisData = {"2008_LEHMAN": {"scenario": "2008_LEHMAN", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30], "market": [100.0, 95.11, 99.94, 100.83, 95.65, 81.18, 81.65, 78.97, 77.49, 83.5, 73.62, 68.4, 64.39, 58.28, 31.85, 35.63, 31.93, 35.04, 32.38, 26.91, 31.24, 35.84, 38.93, 38.47, 38.22, 41.68, 44.73, 42.44, 39.86, 38.9], "portfolio": [100.0, 93.18, 99.42, 100.3, 93.89, 72.12, 70.84, 67.89, 67.05, 75.52, 63.66, 56.04, 51.32, 42.82, 17.18, 21.14, 19.34, 22.66, 20.85, 15.2, 18.11, 22.51, 24.65, 24.86, 24.96, 29.06, 32.5, 30.45, 27.31, 27.19]}, "1987_BLACK_MONDAY": {"scenario": "1987_BLACK_MONDAY", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], "market": [100.0, 113.96, 113.36, 104.25, 114.27, 102.78, 89.76, 92.18, 106.81, 48.11, 66.34, 63.28, 58.79, 56.69, 69.39, 59.55, 50.82, 55.52, 68.81, 72.71], "portfolio": [100.0, 119.75, 122.95, 104.81, 119.96, 99.07, 78.48, 81.57, 96.96, 16.88, 25.61, 23.22, 19.57, 18.72, 25.78, 19.92, 15.45, 17.55, 23.41, 24.67]}, "2020_COVID": {"scenario": "2020_COVID", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40], "market": [100.0, 104.67, 103.39, 107.58, 96.73, 101.42, 92.69, 100.82, 109.55, 111.42, 105.44, 86.67, 91.81, 98.7, 91.68, 87.07, 81.53, 78.45, 83.3, 104.96, 100.84, 99.12, 90.26, 91.64, 85.15, 69.52, 71.87, 58.05, 60.11, 54.53, 54.56, 64.09, 66.27, 60.22, 57.49, 55.44, 56.71, 53.27, 49.76, 48.51], "portfolio": [100.0, 108.11, 105.09, 111.93, 94.64, 97.16, 82.0, 94.96, 110.94, 106.48, 96.91, 68.32, 72.28, 81.15, 74.23, 68.71, 61.76, 57.93, 66.78, 100.62, 97.83, 97.07, 81.91, 83.75, 71.95, 50.7, 53.63, 34.75, 36.16, 32.97, 32.94, 41.05, 43.29, 39.2, 38.36, 36.53, 38.55, 34.88, 30.88, 30.53]}, "2000_DOTCOM": {"scenario": "2000_DOTCOM", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60], "market": [100.0, 100.28, 95.43, 93.04, 88.77, 84.37, 86.15, 88.5, 82.65, 81.48, 82.17, 80.13, 85.68, 81.31, 83.32, 84.57, 76.27, 81.04, 75.94, 70.32, 71.48, 75.36, 64.41, 59.89, 61.7, 57.74, 55.43, 55.71, 53.68, 54.63, 56.68, 54.2, 60.9, 59.12, 54.37, 54.67, 52.37, 49.7, 52.19, 49.29, 48.08, 49.9, 48.18, 49.05, 50.19, 50.66, 53.13, 51.95, 47.34, 46.3, 43.27, 40.69, 39.64, 41.11, 42.09, 43.34, 41.52, 42.3, 42.73, 41.58], "portfolio": [100.0, 102.15, 94.47, 89.64, 82.11, 76.58, 78.97, 79.67, 67.17, 68.77, 71.82, 69.35, 77.04, 71.76, 74.12, 71.63, 61.16, 67.84, 62.08, 53.98, 54.77, 59.94, 47.19, 44.52, 45.36, 39.72, 37.16, 36.29, 35.14, 34.93, 37.63, 38.16, 45.83, 40.92, 37.39, 38.38, 35.93, 33.76, 36.23, 32.07, 30.25, 32.55, 31.35, 31.72, 32.49, 32.21, 33.41, 31.35, 27.92, 28.36, 25.61, 23.04, 22.03, 23.77, 24.75, 26.19, 25.06, 25.58, 25.65, 25.81]}, "2022_INFLATION": {"scenario": "2022_INFLATION", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50], "market": [100.0, 99.17, 98.25, 98.74, 99.32, 98.0, 100.07, 95.01, 92.69, 94.71, 92.8, 92.56, 89.92, 84.09, 83.65, 84.78, 83.58, 82.75, 84.61, 80.79, 77.06, 74.92, 73.6, 73.18, 65.68, 62.52, 54.1, 49.63, 44.11, 42.44, 44.29, 43.18, 39.41, 41.1, 41.04, 39.28, 40.47, 40.67, 41.34, 40.74, 42.18, 41.94, 43.76, 43.8, 41.98, 40.28, 41.22, 40.02, 38.76, 37.89], "portfolio": [100.0, 99.47, 97.3, 98.32, 96.03, 93.54, 98.18, 92.27, 88.22, 90.98, 86.95, 87.24, 83.61, 73.31, 72.71, 75.52, 77.46, 76.68, 79.37, 74.08, 66.13, 65.67, 66.66, 64.38, 54.46, 49.01, 36.24, 28.09, 22.58, 20.19, 21.81, 20.17, 17.23, 18.87, 19.03, 18.29, 18.48, 18.81, 19.32, 19.21, 20.02, 19.72, 21.6, 21.39, 20.14, 18.87, 19.63, 18.99, 17.89, 17.17]}, "2025_AI_SHOCK": {"scenario": "2025_AI_SHOCK", "labels": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35], "market": [100.0, 113.45, 104.82, 95.2, 91.41, 76.63, 76.59, 83.28, 77.87, 76.48, 72.48, 77.45, 69.96, 59.35, 54.13, 57.03, 58.35, 61.65, 64.12, 63.4, 58.42, 45.14, 35.74, 39.21, 40.24, 43.63, 38.46, 31.69, 29.79, 32.04, 34.11, 30.5, 23.25, 21.32, 20.65], "portfolio": [100.0, 122.23, 108.01, 90.61, 86.99, 68.14, 68.6, 76.96, 69.32, 67.29, 61.77, 66.64, 58.12, 43.8, 39.05, 42.88, 44.39, 47.93, 49.47, 53.28, 46.83, 31.27, 21.84, 24.53, 24.84, 27.65, 22.44, 16.23, 14.7, 16.21, 17.59, 14.49, 9.1, 7.93, 7.42]}};

        // --- Metrics Chart ---
        if (metricsData && Object.keys(metricsData).length > 0) {
            const ctx = document.getElementById('financialChart');
            const container = document.getElementById('financialChartContainer');

            // Basic parsing of metrics structure (assuming flat or Year->Val)
            let labels = [];
            let values = [];
            let labelName = "Metric";

            // Try to find a timeseries
            for (const [key, val] of Object.entries(metricsData)) {
                if (typeof val === 'object') {
                    // Likely year -> value
                    labels = Object.keys(val);
                    values = Object.values(val).map(v => parseFloat(v.replace(/[^0-9.-]/g, '')));
                    labelName = key;
                    break;
                }
            }

            if (labels.length > 0) {
                container.style.display = 'block';
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: labelName,
                            data: values,
                            backgroundColor: 'rgba(204, 0, 0, 0.5)',
                            borderColor: '#cc0000',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#ccc' } }
                        },
                        scales: {
                            y: { grid: { color: '#333' }, ticks: { color: '#888' } },
                            x: { grid: { color: '#333' }, ticks: { color: '#888' } }
                        }
                    }
                });
            }
        }

        // --- Crisis Simulation Logic ---
        let crisisChartInstance = null;

        window.renderCrisis = function(scenarioName) {
            if (!crisisData || !crisisData[scenarioName]) return;

            // UI Feedback for Buttons
            document.querySelectorAll('.crisis-btn').forEach(btn => {
                btn.style.borderColor = btn.innerText.includes(scenarioName.split('_')[1]) ? '#cc0000' : '#666';
                btn.style.color = btn.innerText.includes(scenarioName.split('_')[1]) ? '#cc0000' : '#ccc';
            });

            const data = crisisData[scenarioName];
            const ctx = document.getElementById('crisisChart').getContext('2d');

            if (crisisChartInstance) {
                crisisChartInstance.destroy();
            }

            crisisChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.labels,
                    datasets: [
                        {
                            label: 'Your Portfolio (Simulated)',
                            data: data.portfolio,
                            borderColor: '#00f3ff',
                            backgroundColor: 'rgba(0, 243, 255, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            pointRadius: 0
                        },
                        {
                            label: 'Market Benchmark',
                            data: data.market,
                            borderColor: '#666',
                            borderDash: [5, 5],
                            borderWidth: 1,
                            pointRadius: 0,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    plugins: {
                        legend: { labels: { color: '#ccc', font: { family: 'JetBrains Mono' } } },
                        title: {
                            display: true,
                            text: 'STRESS TEST SCENARIO: ' + scenarioName.replace(/_/g, ' '),
                            color: '#cc0000',
                            font: { family: 'JetBrains Mono' }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0,0,0,0.8)',
                            titleColor: '#cc0000',
                            bodyColor: '#fff',
                            borderColor: '#333',
                            borderWidth: 1
                        }
                    },
                    scales: {
                        y: {
                            grid: { color: '#333' },
                            ticks: { color: '#888', callback: function(value) { return value + '%'; } }
                        },
                        x: {
                            grid: { color: '#333' },
                            ticks: { display: false }
                        }
                    }
                }
            });
        };

        // Auto-Run Default Crisis if Data Available
        if (crisisData && Object.keys(crisisData).length > 0) {
            document.getElementById('crisisSimContainer').style.display = 'block';
            // slight delay to ensure Chart.js loaded
            setTimeout(() => renderCrisis('2008_LEHMAN'), 100);
        }
    </script>
</body>
</html>
