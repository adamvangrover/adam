#risk_rating_mapping.json

{
  "credit_ratings": {
    "S&P": {
      "AAA": {
        "credit_risk": 0.0001,
        "default_probability": 0.001,
        "description": "Highest credit quality, minimal risk of default"
      },
      "AA+": {
        "credit_risk": 0.0002,
        "default_probability": 0.002,
        "description": "Very high credit quality, low risk of default"
      },
      "AA": {
        "credit_risk": 0.0003,
        "default_probability": 0.003,
        "description": "High credit quality, low risk of default"
      },
      "AA-": {
        "credit_risk": 0.0005,
        "default_probability": 0.005,
        "description": "High credit quality, slightly higher risk of default than AA"
      },
      "A+": {
        "credit_risk": 0.0008,
        "default_probability": 0.008,
        "description": "Upper-medium credit quality, moderate risk of default"
      },
      "A": {
        "credit_risk": 0.0012,
        "default_probability": 0.012,
        "description": "Medium credit quality, moderate risk of default"
      },
      "A-": {
        "credit_risk": 0.0018,
        "default_probability": 0.018,
        "description": "Medium credit quality, slightly higher risk of default than A"
      },
      "BBB+": {
        "credit_risk": 0.0027,
        "default_probability": 0.027,
        "description": "Lower-medium credit quality, elevated risk of default"
      },
      "BBB": {
        "credit_risk": 0.0040,
        "default_probability": 0.040,
        "description": "Lower-medium credit quality, elevated risk of default"
      },
      "BBB-": {
        "credit_risk": 0.0060,
        "default_probability": 0.060,
        "description": "Lower-medium credit quality, higher risk of default than BBB"
      },
      "BB+": {
        "credit_risk": 0.0090,
        "default_probability": 0.090,
        "description": "Speculative credit quality, significant risk of default"
      },
      "BB": {
        "credit_risk": 0.0130,
        "default_probability": 0.130,
        "description": "Speculative credit quality, significant risk of default"
      },
      "BB-": {
        "credit_risk": 0.0190,
        "default_probability": 0.190,
        "description": "Speculative credit quality, higher risk of default than BB"
      },
      "B+": {
        "credit_risk": 0.0270,
        "default_probability": 0.270,
        "description": "Highly speculative credit quality, high risk of default"
      },
      "B": {
        "credit_risk": 0.0380,
        "default_probability": 0.380,
        "description": "Highly speculative credit quality, high risk of default"
      },
      "B-": {
        "credit_risk": 0.0530,
        "default_probability": 0.530,
        "description": "Highly speculative credit quality, higher risk of default than B"
      },
      "CCC+": {
        "credit_risk": 0.0750,
        "default_probability": 0.750,
        "description": "Substantial risk of default, may be in or near default"
      },
      "CCC": {
        "credit_risk": 0.1000,
        "default_probability": 1.000,
        "description": "Substantial risk of default, may be in or near default"
      },
      "CCC-": {
        "credit_risk": 0.1500,
        "default_probability": 1.500,
        "description": "Substantial risk of default, may be in or near default"
      },
      "CC": {
        "credit_risk": 0.2000,
        "default_probability": 2.000,
        "description": "Very high risk of default, likely in or near default"
      },
      "C": {
        "credit_risk": 0.3000,
        "default_probability": 3.000,
        "description": "Extremely high risk of default, likely in or near default"
      },
      "D": {
        "credit_risk": 1.0000,
        "default_probability": 10.000,
        "description": "In default"
      }
    },
    "Moody's": {
      "Aaa": {
        "credit_risk": 0.0001,
        "default_probability": 0.001,
        "description": "Highest credit quality, minimal risk of default"
      },
      "Aa1": {
        "credit_risk": 0.0002,
        "default_probability": 0.002,
        "description": "Very high credit quality, low risk of default"
      },
      "Aa2": {
        "credit_risk": 0.0003,
        "default_probability": 0.003,
        "description": "High credit quality, low risk of default"
      },
      "Aa3": {
        "credit_risk": 0.0005,
        "default_probability": 0.005,
        "description": "High credit quality, slightly higher risk of default than Aa2"
      },
      "A1": {
        "credit_risk": 0.0008,
        "default_probability": 0.008,
        "description": "Upper-medium credit quality, moderate risk of default"
      },
      "A2": {
        "credit_risk": 0.0012,
        "default_probability": 0.012,
        "description": "Medium credit quality, moderate risk of default"
      },
      "A3": {
        "credit_risk": 0.0018,
        "default_probability": 0.018,
        "description": "Medium credit quality, slightly higher risk of default than A2"
      },
      "Baa1": {
        "credit_risk": 0.0027,
        "default_probability": 0.027,
        "description": "Lower-medium credit quality, elevated risk of default"
      },
      "Baa2": {
        "credit_risk": 0.0040,
        "default_probability": 0.040,
        "description": "Lower-medium credit quality, elevated risk of default"
      },
      "Baa3": {
        "credit_risk": 0.0060,
        "default_probability": 0.060,
        "description": "Lower-medium credit quality, higher risk of default than Baa2"
      },
      "Ba1": {
        "credit_risk": 0.0090,
        "default_probability": 0.090,
        "description": "Speculative credit quality, significant risk of default"
      },
      "Ba2": {
        "credit_risk": 0.0130,
        "default_probability": 0.130,
        "description": "Speculative credit quality, significant risk of default"
      },
      "Ba3": {
        "credit_risk": 0.0190,
        "default_probability": 0.190,
        "description": "Speculative credit quality, higher risk of default than Ba2"
      },
      "B1": {
        "credit_risk": 0.0270,
        "default_probability": 0.270,
        "description": "Highly speculative credit quality, high risk of default"
      },
      "B2": {
        "credit_risk": 0.0380,
        "default_probability": 0.380,
        "description": "Highly speculative credit quality, high risk of default"
      },
      "B3": {
        "credit_risk": 0.0530,
        "default_probability": 0.530,
        "description": "Highly speculative credit quality, higher risk of default than B2"
      },
      "Caa1": {
        "credit_risk": 0.0750,
        "default_probability": 0.750,
        "description": "Substantial risk of default, may be in or near default"
      },
      "Caa2": {
        "credit_risk": 0.1000,
        "default_probability": 1.000,
        "description": "Substantial risk of default, may be in or near default"
      },
      "Caa3": {
        "credit_risk": 0.1500,
        "default_probability": 1.500,
        "description": "Substantial risk of default, may be in or near default"
      },
      "Ca": {
        "credit_risk": 0.2000,
        "default_probability": 2.000,
        "description": "Very high risk of default, likely in or near default"
      },
      "C": {
        "credit_risk": 0.3000,
        "default_probability": 3.000,
        "description": "Extremely high risk of default, likely in or near default"
      }
    },
    "SNC": {
      "Pass": {
        "repayment_capacity": {
          "cumulative_free_cash_flow_to_total_debt": ">50%",
          "description": "Strong projected repayment capacity over the loan term"
        },
        "valuation": {
          "loan_to_value": "<70%",
          "description": "Conservative loan-to-value ratio, indicating sufficient collateral coverage"
        },
        "liquidity": {
          "score": "Strong",
          "description": "More than covers a black swan shock with a 30% cushion to next 2-years costs"
        },
        "solvency": {
          "debt_service_coverage_ratio": ">1.5x",
          "description": "Healthy debt service coverage, indicating strong ability to meet debt obligations"
        }
      },
      "Special Mention": {
        "repayment_capacity": {
          "cumulative_free_cash_flow_to_total_debt": ">40%",
          "description": "Adequate projected repayment capacity, but potential concerns exist"
        },
        "valuation": {
          "loan_to_value": "70-80%",
          "description": "Moderate loan-to-value ratio, potential for collateral shortfall"
        },
        "liquidity": {
          "score": "Adequate",
          "description": "Covers shock and/or next 12-18 months fully burdened cash costs with a 20% cushion"
        },
        "solvency": {
          "debt_service_coverage_ratio": "1.2x-1.5x",
          "description": "Adequate debt service coverage, but potential for deterioration"
        }
      },
      "Substandard": {
        "repayment_capacity": {
          "cumulative_free_cash_flow_to_total_debt": ">30%",
          "description": "Weak projected repayment capacity, significant concerns exist"
        },
        "valuation": {
          "loan_to_value": "80-90%",
          "description": "High loan-to-value ratio, significant risk of collateral shortfall"
        },
        "liquidity": {
          "score": "Less than Adequate",
          "description": "Limited cushion to cover shock or fully burdened cash costs"
        },
        "solvency": {
          "debt_service_coverage_ratio": "1.0x-1.2x",
          "description": "Weak debt service coverage, potential for default"
        }
      },
      "Doubtful": {
        "repayment_capacity": {
          "waterfall_analysis": "Significant shortfall in projected repayment",
          "description": "Highly doubtful repayment capacity, significant risk of loss"
        },
        "valuation": {
          "recovery_analysis": "Significant potential for loss given default",
          "description": "Collateral value insufficient to cover outstanding debt"
        },
        "liquidity": {
          "score": "Less than Adequate",
          "description": "Limited cushion to cover shock or fully burdened cash costs"
        },
        "solvency": {
          "debt_service_coverage_ratio": "<1.0x",
          "description": "Insufficient cash flow to cover debt obligations"
        }
      },
      "Loss": {
        "repayment_capacity": {
          "waterfall_analysis": "Uncollectible",
          "description": "No reasonable expectation of repayment"
        },
        "valuation": {
          "recovery_analysis": "Minimal or no recovery expected",
          "description": "Collateral value significantly below outstanding debt"
        },
        "liquidity": {
          "score": "Less than Adequate",
          "description": "Limited cushion to cover shock or fully burdened cash costs"
        },
        "solvency": {
          "debt_service_coverage_ratio": "<1.0x",
          "description": "Insufficient cash flow to cover debt obligations"
        }
      }
    }
  },
  "risk_score_mapping": {
    "very_low": {
      "score_range": [0, 0.2],
      "description": "Minimal risk, suitable for conservative investors"
    },
    "low": {
      "score_range":,
      "description": "Low risk, suitable for moderately conservative investors"
    },
    "moderate": {
      "score_range":,
      "description": "Moderate risk, suitable for balanced investors"
    },
    "high": {
      "score_range":,
      "description": "High risk, suitable for aggressive investors"
    },
    "very_high": {
      "score_range":,
      "description": "Very high risk, suitable for highly aggressive investors"
    }
  }
}

#notes

{
  "credit_ratings": {
    // ... (existing credit rating mappings)
  },
  "SNC": {
    // ... (existing SNC mappings)
  },
  "risk_score_mapping": {
    "very_low": {
      "score_range": [0, 0.2],
      "description": "Minimal risk, suitable for conservative investors"
    },
    "low": {
      "score_range": [0.2, 0.4],
      "description": "Low risk, suitable for moderately conservative investors"
    },
    "moderate": {
      "score_range": [0.4, 0.6],
      "description": "Moderate risk, suitable for balanced investors"
    },
    "high": {
      "score_range": [0.6, 0.8],
      "description": "High risk, suitable for aggressive investors"
    },
    "very_high": {
      "score_range": [0.8, 1.0],
      "description": "Very high risk, suitable for highly aggressive investors"
    }
  },
  "metadata": {
    "version": "1.0.1",
    "last_updated": "2024-10-27T12:00:00Z",
    "developer_notes": "Added SNC mappings with repayment, valuation, liquidity, and solvency metrics. Risk score ranges are now defined. Implemented logic to force qualitative assessments into numerical values for weighting based on the runtime environment.",
    "debug_mode": false
  },
  "debug_mapping":{
    "SNC_numerical_weights": {
      "Pass": 0.1,
      "Special Mention": 0.3,
      "Substandard": 0.5,
      "Doubtful": 0.8,
      "Loss": 1.0
    },
    "Liquidity_numerical_weights":{
      "Strong": 0.1,
      "Adequate": 0.5,
      "Less than Adequate": 1.0
    }
  }
}

#example

import json

def get_risk_weight(rating, rating_type, debug_mode, risk_mapping):
  """Retrieves numerical risk weight based on rating and type."""
  if not debug_mode:
    return None

  if rating_type == "SNC":
    return risk_mapping["debug_mapping"]["SNC_numerical_weights"].get(rating)
  elif rating_type == "Liquidity":
    return risk_mapping["debug_mapping"]["Liquidity_numerical_weights"].get(rating["score"])
  else:
    return None

def load_risk_mapping(filepath="risk_rating_mapping.json"):
    with open(filepath, 'r') as f:
        risk_mapping = json.load(f)
    return risk_mapping

#Example usage
risk_map = load_risk_mapping()
debug_enabled = risk_map["metadata"]["debug_mode"]

snc_rating = "Substandard"
snc_weight = get_risk_weight(snc_rating, "SNC", debug_enabled, risk_map)
if snc_weight is not None:
    print(f"SNC Rating '{snc_rating}' has weight: {snc_weight}")

liquidity_rating = risk_map["SNC"]["Pass"]["liquidity"]
liquidity_weight = get_risk_weight(liquidity_rating, "Liquidity", debug_enabled, risk_map)

if liquidity_weight is not None:
    print(f"Liquidity Rating '{liquidity_rating['score']}' has weight: {liquidity_weight}")

#additional modules for future development

{
  // ... (existing content)
  "cds_spreads_by_industry": {
    "Technology": {
      "1Y": 50,
      "3Y": 75,
      "5Y": 100
    },
    "Healthcare": {
      "1Y": 60,
      "3Y": 90,
      "5Y": 120
    },
    "Financials": {
      "1Y": 70,
      "3Y": 105,
      "5Y": 140
    },
    "Energy": {
      "1Y": 80,
      "3Y": 120,
      "5Y": 160
    },
    "Industrials": {
      "1Y": 55,
      "3Y": 85,
      "5Y": 110
    },
    "Consumer Staples": {
      "1Y": 45,
      "3Y": 70,
      "5Y": 95
    },
    "Consumer Discretionary":{
      "1Y": 65,
      "3Y": 95,
      "5Y": 125
    },
    "Materials":{
      "1Y": 75,
      "3Y": 110,
      "5Y": 150
    },
    "Real Estate":{
      "1Y": 90,
      "3Y": 130,
      "5Y": 170
    },
    "Utilities":{
      "1Y": 50,
      "3Y": 75,
      "5Y": 100
    }
  },
  "distressed_secondary_prices": {
    "loans": [
      {
        "loan_id": "L123",
        "date": "2023-10-26",
        "price": 0.65
      },
      {
        "loan_id": "L456",
        "date": "2023-10-26",
        "price": 0.72
      },
      {
        "loan_id": "L789",
        "date": "2023-10-26",
        "price": 0.58
      },
      {
        "loan_id": "L101",
        "date": "2023-10-26",
        "price": 0.68
      },
      {
        "loan_id": "L112",
        "date": "2023-10-26",
        "price": 0.50
      },
      {
        "loan_id": "L131",
        "date": "2023-10-26",
        "price": 0.60
      }
    ]
  },
  // ... (existing content)
}

{
  // ... (all existing content)
  "risk_free_rates": {
    "LIBOR": {
      "1M": 0.0531,
      "3M": 0.0542,
      "6M": 0.0553,
      "1Y": 0.0564,
      "2Y": 0.0570,
      "3Y": 0.0573
    },
    "SOFR": {
      "1D": 0.0536,
      "1W": 0.0538,
      "1M": 0.0540,
      "3M": 0.0546,
      "6M": 0.0556,
      "1Y": 0.0566,
      "2Y": 0.0572,
      "3Y": 0.0575
    },
    "Treasury_Curve": {
      "1M": 0.0495,
      "3M": 0.0505,
      "6M": 0.0515,
      "1Y": 0.0525,
      "2Y": 0.0520,
      "3Y": 0.0515,
      "5Y": 0.0510,
      "10Y": 0.0505,
      "30Y": 0.0500
    }
  },
  "currency_par_values": {
    "USD/EUR": 0.845,
    "USD/GBP": 0.775,
    "USD/JPY": 146.20,
    "USD/CHF": 0.895,
    "USD/CAD": 1.355,
    "USD/AUD": 1.555,
    "USD/CNY": 7.22
  },
  "global_indices": {
    "S&P500": {
      "date": "2024-10-27",
      "value": 4200.50,
      "historical_volatility": 0.18
    },
    "DJIA": {
      "date": "2024-10-27",
      "value": 33500.25,
      "historical_volatility": 0.15
    },
    "NASDAQ": {
      "date": "2024-10-27",
      "value": 13000.75,
      "historical_volatility": 0.22
    },
     "FTSE100": {
      "date": "2024-10-27",
      "value": 7400.00,
      "historical_volatility": 0.16
    },
     "N225": {
      "date": "2024-10-27",
      "value": 28500.00,
      "historical_volatility": 0.19
    }
  },
  "volatility_indices": {
    "VIX": {
      "date": "2024-10-27",
      "value": 18.50
    },
    "VXN": {
      "date": "2024-10-27",
      "value": 22.00
    }
  },
  "economic_data": {
    "USA": {
      "GDP_growth": 0.02,
      "inflation": 0.03,
      "unemployment": 0.04
    },
    "EUR": {
      "GDP_growth": 0.01,
      "inflation": 0.025,
      "unemployment": 0.06
    },
    "JPN": {
      "GDP_growth": 0.005,
      "inflation": 0.02,
      "unemployment": 0.025
    }
  },
  "sector_data":{
    "Technology": {
      "growth_outlook": 0.05,
      "risk_factor": 0.20
    },
    "Financials":{
      "growth_outlook": 0.03,
      "risk_factor": 0.18
    },
     "Healthcare":{
      "growth_outlook": 0.04,
      "risk_factor": 0.15
    },
     "Energy":{
      "growth_outlook": 0.02,
      "risk_factor": 0.25
    }
  },
  "version_notes": {
    "version": "1.2.0",
    "release_date": "2024-10-27",
    "changes": [
      "Added comprehensive SNC rating metrics including repayment capacity, valuation, liquidity, and solvency.",
      "Implemented debug mapping for numerical weighting of qualitative assessments.",
      "Included CDS spreads by industry for credit risk analysis.",
      "Added historical distressed secondary prices for broadly syndicated loans.",
      "Incorporated risk-free rates (LIBOR, SOFR, Treasury curve).",
      "Added currency par values for major currency pairs.",
      "Defined risk_score_mapping ranges.",
      "Implemented metadata section for versioning and developer notes."
    ],
    "future_improvements": [
      "Implement real-time data feeds for risk-free rates, CDS spreads, and currency par values.",
      "Expand distressed secondary prices with more granular data and time series analysis.",
      "Add industry specific risk weights.",
      "Develop a robust configuration management system for this file.",
      "Incorporate more granular Treasury Curve data.",
      "Add economic and sector data.",
      "Add data for global indices.",
      "Add data for volatility indices."
    ],
    "version_tag": "risk_rating_mapping.json_v1.2.0"
  }
}
