<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADAM v23.5 | Neural Cortex (Architect Agent)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>

    <link rel="stylesheet" href="../../../showcase/css/style.css">
    <style>
        /* --- Core Theme Overrides --- */
        body { background-color: #0f172a; font-family: 'Inter', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }

        /* CRT Scanline */
        .scan-line {
            position: fixed; top: 0; left: 0; width: 100%; height: 4px;
            background: linear-gradient(to bottom, rgba(16, 185, 129, 0), rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0));
            opacity: 0.1; animation: scan 8s linear infinite; pointer-events: none; z-index: 9999;
        }
        @keyframes scan { 0% { top: -10%; } 100% { top: 110%; } }

        /* Glass Panels */
        .glass-panel {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
        }

        /* Graph Container */
        #viz-canvas {
            width: 100%; height: 100%;
            background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
            cursor: crosshair;
        }

        /* Scrollbars */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden text-slate-200">
    <div class="scan-line"></div>

    <header class="h-16 border-b border-slate-700/50 flex items-center justify-between px-6 bg-[#0f172a]/90 backdrop-blur-md z-40 shrink-0">
        <div class="flex items-center gap-4">
            <a href="../../../index.html" class="text-slate-400 hover:text-white transition"><i class="fas fa-arrow-left"></i></a>
            <h1 class="text-xl font-bold tracking-tight mono">ADAM <span class="text-cyan-400">v23.5</span> <span class="text-slate-500 font-normal">| Neural Cortex</span></h1>
        </div>
        <div class="flex items-center gap-6 font-mono text-xs hidden md:flex">
            <div>
                <span class="text-slate-500">AGENT_ID:</span>
                <span class="text-white font-bold ml-1">ARCHITECT_01</span>
            </div>
            <div class="flex items-center gap-2 px-3 py-1 bg-slate-800 rounded border border-slate-700">
                <span class="w-2 h-2 rounded-full bg-cyan-500 animate-pulse"></span>
                <span>SYSTEM ACTIVE</span>
            </div>
        </div>
    </header>

    <main class="flex-1 flex overflow-hidden p-4 gap-4 relative z-10">
        <!-- Sidebar controls would go here (simplified for this view) -->
        <aside class="w-64 flex flex-col gap-4 shrink-0">
             <div class="glass-panel p-4 rounded-lg">
                <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Controls</h3>
                <button onclick="loadGraph('SNC')" class="block w-full text-left p-2 hover:bg-slate-700 rounded text-xs mb-1">Load SNC Graph</button>
                <button onclick="loadGraph('RedTeam')" class="block w-full text-left p-2 hover:bg-slate-700 rounded text-xs">Load Red Team Graph</button>
             </div>
        </aside>

        <section class="flex-1 glass-panel rounded-lg relative overflow-hidden flex flex-col shadow-2xl">
            <div class="absolute top-4 left-4 z-10 pointer-events-none">
                <h2 id="graph-title" class="text-2xl font-bold text-white drop-shadow-md font-mono">NEURAL_CORTEX_VIEW</h2>
            </div>
            <div id="viz-canvas"></div>
        </section>
    </main>

    <script src="../../../showcase/js/mock_data.js"></script>
    <script>
        // Inline script to render the graph, adapted from neural_dashboard.html
        const GRAPHS = {
            'SNC': {
                title: "SNC_ANALYZER_GRAPH",
                nodes: [
                    { id: 1, label: 'START', group: 'start' },
                    { id: 2, label: 'Structure Analysis', group: 'agent' },
                    { id: 3, label: 'Credit Risk Model', group: 'agent' },
                    { id: 4, label: 'Risk Critique', group: 'critique' },
                    { id: 5, label: 'Revision', group: 'action' },
                    { id: 6, label: 'Human Approval', group: 'human' },
                    { id: 7, label: 'END', group: 'end' }
                ],
                edges: [
                    { from: 1, to: 2, arrows: 'to' },
                    { from: 2, to: 3, arrows: 'to' },
                    { from: 3, to: 4, arrows: 'to' },
                    { from: 4, to: 5, arrows: 'to', label: 'Reject', color: { color: '#ef4444' } },
                    { from: 5, to: 3, arrows: 'to', label: 'Retry' },
                    { from: 4, to: 6, arrows: 'to', label: 'Approve', color: { color: '#10b981' } },
                    { from: 6, to: 7, arrows: 'to' }
                ]
            },
            'RedTeam': {
                title: "ADVERSARIAL_SIM_NET",
                nodes: [
                    { id: 1, label: 'Scenario Gen', group: 'start' },
                    { id: 2, label: 'Attack Vector', group: 'critique' },
                    { id: 3, label: 'System Defense', group: 'agent' },
                    { id: 4, label: 'Impact Calc', group: 'agent' },
                    { id: 5, label: 'Report', group: 'end' }
                ],
                edges: [
                    { from: 1, to: 2, arrows: 'to' },
                    { from: 2, to: 3, arrows: 'to' },
                    { from: 3, to: 4, arrows: 'to' },
                    { from: 4, to: 5, arrows: 'to' }
                ]
            }
        };

        let network = null;
        const networkOptions = {
            nodes: {
                shape: 'dot', size: 20,
                font: { face: 'JetBrains Mono', color: '#e2e8f0', size: 12 },
                borderWidth: 2, shadow: true,
                color: { background: '#1e293b', border: '#cbd5e1' }
            },
            edges: {
                width: 1, color: { color: '#475569', highlight: '#22d3ee' },
                smooth: { type: 'continuous', roundness: 0.5 },
                arrows: { to: { enabled: true, scaleFactor: 0.5 } }
            },
            groups: {
                start: { color: { background: '#10b981', border: '#059669' }, size: 25 },
                end: { color: { background: '#64748b', border: '#475569' }, size: 25 },
                agent: { color: { background: '#3b82f6', border: '#2563eb' } },
                critique: { color: { background: '#ef4444', border: '#dc2626' } },
                action: { color: { background: '#f59e0b', border: '#d97706' } },
                human: { color: { background: '#8b5cf6', border: '#7c3aed' } }
            }
        };

        function loadGraph(key) {
            const data = GRAPHS[key];
            if (!data) return;
            document.getElementById('graph-title').innerText = data.title;
            const container = document.getElementById('viz-canvas');
            const nodes = new vis.DataSet(data.nodes);
            const edges = new vis.DataSet(data.edges);
            if (network) network.destroy();
            network = new vis.Network(container, { nodes, edges }, networkOptions);
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGraph('SNC');
        });
    </script>
    <script src="../../../showcase/js/nav.js" data-root="../../.."></script>
</body>
</html>
